<h3 class="cls-title">Reportes</h3>

<div class="row">
    <div class="col-sm-12" cg-busy="loading">
        <uib-tabset type="pills" active="active">
            <!-- Start report 01 -->
            <uib-tab heading="Ventas por Rango">
                <div class="cls-tab-pill-contents">
                    <div class="row">
                        <div class="col-sm-4 col-md-3 col-lg-2">
                            <div class="panel panel-default panel-filters">
                                <div class="panel-heading">Opciones</div>
                                <div class="panel-body">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <label>Fecha inicial: </label>
                                            <div class="input-group">
                                                <input type="text" class="form-control" uib-datepicker-popup="yyyy-MM-dd" datepicker-options="dateOptions"
                                                       ng-model="rpt01.date_ini" is-open="rpt01.date_ini_opened" show-button-bar="false">
                                                <span class="input-group-btn">
                                                    <button type="button" class="btn btn-default" ng-click="openDatePicker('rpt01-ini')">
                                                        <i class="glyphicon glyphicon-calendar"></i>
                                                    </button>
                                              </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt15">
                                        <div class="col-sm-12">
                                            <label>Fecha final: </label>
                                            <div class="input-group">
                                                <input type="text" class="form-control" uib-datepicker-popup="yyyy-MM-dd" datepicker-options="dateOptions"
                                                       ng-model="rpt01.date_end" is-open="rpt01.date_end_opened" show-button-bar="false">
                                                <span class="input-group-btn">
                                                    <button type="button" class="btn btn-default" ng-click="openDatePicker('rpt01-end')">
                                                        <i class="glyphicon glyphicon-calendar"></i>
                                                    </button>
                                              </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt15">
                                        <div class="col-sm-12">
                                            <!--<button class="btn btn-success" ng-click="runRpt(1)">Generar</button>-->
                                            <div class="btn-group" uib-dropdown>
                                                <button type="button" class="btn btn-success" ng-click="runRpt(1)">Generar</button>
                                                <button type="button" class="btn btn-success" uib-dropdown-toggle>
                                                    <span class="caret"></span>
                                                    <span class="sr-only">Split button!</span>
                                                </button>
                                                <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="split-button">
                                                    <li role="menuitem">
                                                        <a href="javascript:void(0)" ng-click="downloadRpt(1)">Descargar PDF</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Display report 01  -->
                        <div class="col-sm-8 col-md-9 col-lg-10">
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1">
                                    <table class="table table-condensed table-bordered cls-table">
                                        <thead>
                                            <th class="text-center">Vendedor</th>
                                            <th class="text-center" width="70">%</th>
                                            <th class="text-center">Liquidaciones</th>
                                            <th class="text-center">Costo</th>
                                            <th class="text-center">Utilidad</th>
                                            <th class="text-center" width="75">Cajas</th>
                                            <th class="text-center" width="85">Paquetes</th>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="rec in rpt01.data">
                                                <td>{{ rec.name }}</td>
                                                <td class="text-right cls-small">{{ rec.percent * 100 | number : 1 }}%</td>
                                                <td class="text-right text-primary">{{ rec.price | currency }}</td>
                                                <td class="text-right">{{ rec.cost | currency }}</td>
                                                <td class="text-right">{{ rec.price - rec.cost | currency }}</td>
                                                <td class="text-right cls-small">{{ rec.items | number : 1 }}</td>
                                                <td class="text-right cls-small">{{ rec.packs | number : 0 }}</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr class="cls-small" style="background-color: #f6f6f6;">
                                                <td colspan="2" class="text-right cls-bold">Total: </td>
                                                <td class="text-right text-primary cls-bold">{{ rpt01.summary.price | currency }}</td>
                                                <td class="text-right cls-bold">{{ rpt01.summary.cost | currency }}</td>
                                                <td class="text-right cls-bold">{{ rpt01.summary.diff | currency }}</td>
                                                <td class="text-right cls-bold">{{ rpt01.summary.items | number : 1 }}</td>
                                                <td class="text-right cls-bold">{{ rpt01.summary.packs | number : 0 }}</td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>    
                            </div>
                        </div>
                    </div>
                </div>
            </uib-tab>
            <!-- End report 01 -->

            <!-- Start report 02 -->
            <uib-tab heading="Existencias por Vendedor">
                <div class="cls-tab-pill-contents">
                    <div class="row">
                        <div class="col-sm-4 col-md-3 col-lg-2">
                            <div class="panel panel-default panel-filters">
                                <div class="panel-heading">Opciones</div>
                                <div class="panel-body">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <!--<button class="btn btn-success" ng-click="runRpt(1)">Generar</button>-->
                                            <div class="btn-group" uib-dropdown>
                                                <button type="button" class="btn btn-success" ng-click="runRpt(2)">Generar</button>
                                                <button type="button" class="btn btn-success" uib-dropdown-toggle>
                                                    <span class="caret"></span>
                                                    <span class="sr-only">Split button!</span>
                                                </button>
                                                <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="split-button">
                                                    <li role="menuitem">
                                                        <a href="javascript:void(0)" ng-click="downloadRpt(2)">Descargar PDF</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Display report 02 -->
                        <div class="col-sm-8 col-md-9 col-lg-10">
                            <div class="row">
                                <div class="col-sm-7 col-sm-offset-1">
                                    <table class="table table-condensed table-bordered cls-table">
                                        <thead>
                                            <th class="text-center">Vendedor</th>
                                            <th class="text-center" width="75">Cajas</th>
                                            <th class="text-center" width="85">Paquetes</th>
                                            <th class="text-center" width="120">Importe</th>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="rec in rpt02.data">
                                                <td>{{ rec.name }}</td>
                                                <td class="text-right cls-small" ng-class="{'cls-negative': rec.boxes < 0}">{{ rec.boxes | number : 1 }}</td>
                                                <td class="text-right cls-small" ng-class="{'cls-negative': rec.packs < 0}">{{ rec.packs | number : 0 }}</td>
                                                <td class="text-right text-primary" ng-hide="rec.amount < 0">{{ rec.amount | currency }}</td>
                                                <td class="text-right cls-negative" ng-show="rec.amount < 0">{{ rec.amount | currency }}</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr class="cls-small" style="background-color: #f6f6f6;">
                                                <td class="text-right cls-bold">Total: </td>
                                                <td class="text-right cls-bold" ng-class="{'cls-negative': rpt02.summary.boxes < 0}">
                                                    {{ rpt02.summary.boxes | number : 1 }}
                                                </td>
                                                <td class="text-right cls-bold" ng-class="{'cls-negative': rpt02.summary.packs < 0}">
                                                    {{ rpt02.summary.packs | number : 0 }}
                                                </td>
                                                <td class="text-right text-primary cls-bold" ng-hide="rpt02.summary.amount < 0">
                                                    {{ rpt02.summary.amount | currency }}
                                                </td>
                                                <td class="text-right cls-negative" ng-show="rpt02.summary.amount < 0">
                                                    {{ rpt02.summary.amount | currency }}
                                                </td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>    
                            </div>
                        </div>
                    </div>
                </div>
            </uib-tab>
            <!-- End report 02 -->

            <!-- Start report 03 -->
            <!--<uib-tab heading="Ventas Mensuales">
                <div class="cls-tab-pill-contents">
                    <div class="row">
                        <div class="col-sm-2"></div>
                        <div class="col-sm-10"></div>
                    </div>
                </div>
            </uib-tab>-->
            <!-- End report 03 -->
        </uib-tabset>
    </div>
</div>